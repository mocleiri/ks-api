<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://www.springframework.org/schema/tx
                           http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
                           http://www.springframework.org/schema/aop
                           http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">
	<import resource="classpath:ks-core-context.xml" />
      <bean class="org.kuali.rice.ksb.messaging.KSBExporter">
        <property name="remotedServiceRegistry" ref="enServiceInvoker" />
        <property name="serviceDefinition">
            <bean parent="kimSoapService" p:service-ref="kimPermissionService"
                p:localServiceName="kimPermissionServiceUnsecure">
                <property name="busSecurity" value="false" />
            </bean>
        </property>
    </bean>
    
	<bean class="org.kuali.rice.ksb.messaging.KSBExporter">
        <property name="remotedServiceRegistry" ref="enServiceInvoker" />
        <property name="serviceDefinition">
            <bean parent="kimSoapService" p:service-ref="kimIdentityService"
                p:localServiceName="kimIdentityServiceSOAPUnsecure">
                <property name="busSecurity" value="false" />
            </bean>
        </property>
    </bean>
   
      <!-- Expose Org Service on Bus  --> 
    <bean class="org.kuali.rice.ksb.messaging.KSBExporter">
        <property name="serviceDefinition">     
            <bean class="org.kuali.rice.ksb.messaging.SOAPServiceDefinition">
                <property name="jaxWsService" value="true" />
                <property name="service" ref="orgServiceImpl" />
                <property name="serviceInterface" value="org.kuali.student.core.organization.service.OrganizationService" />
                <property name="localServiceName" value="OrganizationService" />
                <property name="serviceNameSpaceURI" value="http://student.kuali.org/wsdl/organization" />
                <property name="busSecurity" value="false"></property>
            </bean>
        </property>
    </bean>
   
   
   <!-- Expose Org Service on Bus  --> 
<!--   <bean class="org.kuali.rice.ksb.messaging.KSBExporter">-->
<!--        <property name="remotedServiceRegistry" ref="enServiceInvoker" />-->
<!--        <property name="serviceDefinition">-->
<!--            <bean id="OrgWebService" class="org.kuali.rice.ksb.messaging.SOAPServiceDefinition">-->
<!--                <property name="service" ref="orgServiceImpl" />-->
<!--                <property name="serviceNameSpaceURI" value="http://org.kuali.student/core/organization" />-->
<!--                <property name="localServiceName" value="OrganizationService" />-->
<!--                <property name="serviceInterface" value="org.kuali.student.core.organization.service.OrganizationService" />-->
<!--                <property name="jaxWsService" value="true" />-->
<!--                <property name="busSecurity" value="false" />-->
<!--            </bean>-->
<!--        </property>-->
<!--    </bean>-->
    
<!--    <bean id="orgClientFactory" class="org.apache.cxf.jaxws.JaxWsProxyFactoryBean">-->
<!--        <property name="serviceClass"-->
<!--            value="org.kuali.student.core.organization.service.OrganizationService" />-->
<!--        <property name="address"-->
<!--            value="${lum.application.url}/services/OrgService" />-->
<!--    </bean>-->
<!---->
<!--    <bean id="orgClient" class="org.kuali.student.core.organization.service.OrganizationService"-->
<!--        factory-bean="orgClientFactory" factory-method="create" />-->
    
    <!-- Expose LU Service on Bus -->
<!--    <bean class="org.kuali.rice.ksb.messaging.KSBExporter">-->
<!--        <property name="remotedServiceRegistry" ref="enServiceInvoker" />-->
<!--        <property name="serviceDefinition">-->
<!--            <bean id="LumWebService" class="org.kuali.rice.ksb.messaging.SOAPServiceDefinition">-->
<!--                <property name="service" ref="luClient" />-->
<!--                <property name="serviceNameSpaceURI" value="http://student.kuali.org/lum/lu" />-->
<!--                <property name="localServiceName" value="LuService" />-->
<!--                <property name="serviceInterface" value="org.kuali.student.lum.lu.service.LuService" />-->
<!--                <property name="jaxWsService" value="true" />-->
<!--                <property name="busSecurity" value="false" />-->
<!--            </bean>-->
<!--        </property>-->
<!--    </bean>-->
<!-- -->
<!--    <bean id="luClientFactory" class="org.apache.cxf.jaxws.JaxWsProxyFactoryBean">-->
<!--        <property name="serviceClass"-->
<!--            value="org.kuali.student.lum.lu.service.LuService" />-->
<!--        <property name="address"-->
<!--            value="${lum.application.url}/services/LuService" />-->
<!--    </bean>-->
<!---->
<!--    <bean id="luClient" class="org.kuali.student.lum.lu.service.LuService"-->
<!--        factory-bean="luClientFactory" factory-method="create" />-->
  
  
  <bean class="org.kuali.rice.ksb.messaging.KSBExporter">
    <property name="remotedServiceRegistry" ref="enServiceInvoker"/>
    <property name="serviceDefinition">
      <bean parent="kimSoapService"
        p:service-ref="kimPermissionService"
        p:localServiceName="kimPermissionServiceUnsecure" >
        <property name="busSecurity" value="false"/>
      </bean>
    </property>
  </bean>

  <bean id="studentRiceModule" class="org.kuali.rice.kns.service.impl.ModuleServiceBase">
  	<property name="moduleConfiguration" ref="studentRiceModuleConfiguration"/>
    <property name="kualiModuleService" ref="kualiModuleService" />
  </bean>

  <bean id="studentRiceModuleConfiguration" class="org.kuali.rice.kns.bo.ModuleConfiguration">
		<property name="namespaceCode" value="KS-SYS" />
        <property name="initializeDataDictionary" value="true"/>
		<property name="dataDictionaryPackages">
			<list>
			    <value>classpath:org/kuali/rice/student/bo/datadictionary</value>
            </list>
		</property>
        <property name="packagePrefixes">
            <list>
                <value>org.kuali.rice.student.</value>
            </list>
        </property>
	</bean>

	<!-- OrgAdmin Derived role (AdministrativeOfficer of this org) -->
<!--	<bean id="ksOrgAdminRoleTypeService" class="org.kuali.student.lum.workflow.derivedrole.OrgDerivedRoleTypeServiceImpl">-->
<!--		<property name="orgPersonRelationType" value="kuali.org.PersonRelation.AdministrativeOfficer" />-->
<!--		<property name="orgService" ref="orgClient"/>-->
<!--	</bean>-->

	<!-- Org Derived role (anyone that's related to this org -->
<!--	<bean id="ksOrgRoleTypeService" class="org.kuali.student.lum.workflow.derivedrole.OrgDerivedRoleTypeServiceImpl">-->
<!--		<property name="orgService" ref="orgClient"/>-->
<!--	</bean>-->
	
</beans>