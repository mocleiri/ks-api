<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <modelVersion>4.0.0</modelVersion>
    <groupId>org.kuali.student</groupId>
    <artifactId>student</artifactId>
    <version>1.0.0-m3</version>
    <packaging>pom</packaging>
    <name>Master Pom</name>
    <description>Kuali Student Project</description>
    <modules> 
        <module>ks-core</module>
        <!--       
        <module>ks-commons</module>
        <module>ks-brms</module>
        <module>ks-lum</module>
        <module>ks-security</module>
        <module>ks-web</module>
        -->
    </modules>

    <repositories>
        <repository>
            <id>kuali.release</id>
            <url>https://test.kuali.org/maven</url>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </repository>
        <repository>
            <id>kuali.snapshot</id>
            <url>http://archiva.kuali.umd.edu/repository/snapshot</url>
            <releases>
                <enabled>false</enabled>
            </releases>
        </repository>
    </repositories>

    <properties>
    	<!-- artifact versions -->
        <atomikos.version>3.4.1</atomikos.version>
        <cxf.version>2.2</cxf.version>
        <gwtVersion>1.6.4</gwtVersion>
        <jaxws-api.version>2.1</jaxws-api.version>
        <jaxws.version>2.1.5</jaxws.version>
        <metro.version>1.4</metro.version>
        <spring.version>2.5.4</spring.version>
        <spring.security.version>2.0.4</spring.security.version>
        <derby.version>10.4.2.0</derby.version>
        <jetty.version>6.1.6</jetty.version>
        <eclipselink.version>1.0</eclipselink.version>
        <aspectj.version>1.5.4</aspectj.version>
        <kuali.rice.version>1.0.1</kuali.rice.version>
        <xalan.version>2.7.1</xalan.version>
        <xercesImpl.version>2.9.1</xercesImpl.version>

        <!-- plugin versions -->
        <cobertura.plugin.version>2.2</cobertura.plugin.version>
        <javadoc.plugin.version>2.4</javadoc.plugin.version>
        <site.plugin.version>2.0-beta-7</site.plugin.version>
		<gwt.codehaus.plugin.version>1.2</gwt.codehaus.plugin.version>
        <war.plugin.version>2.1-beta-1</war.plugin.version>
		<tomcat.plugin.version>1.0-beta-1</tomcat.plugin.version>
        
        <!-- build properties -->
        <ks-core.version>1.0.0-SNAPSHOT</ks-core.version>
        <ks.gwt.compile.phase>process-classes</ks.gwt.compile.phase>
        <ks-standard-security.version>1.0.0-m1</ks-standard-security.version>
    </properties>

    <profiles>

        <!-- External Repository Profiles -->
        <profile>
            <id>external.repositories</id>
            <activation>
                <property>
                    <name>!ks.use.proxy</name>
                </property>
            </activation>

            <repositories>
                <repository>
                    <id>central</id>
                    <url>http://repo1.maven.org/maven2/</url>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
                </repository>
                <repository>
                    <id>maven2-repository.dev.java.net</id>
                    <url>http://download.java.net/maven/2</url>
                </repository>
                <repository>
                    <id>maven-repository.dev.java.net</id>
                    <url>http://download.java.net/maven/1</url>
                    <layout>legacy</layout>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
                </repository>
                <repository>
                    <id>kuali.rice</id>
                    <url>https://test.kuali.org/maven</url>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
                </repository>
                <repository>
                    <id>ks.public</id>
                    <url>
                        http://archiva.kuali.umd.edu/repository/public/
					</url>
                </repository>
                <repository>
                    <id>apache.incubating</id>
                    <url>
                        http://people.apache.org/repo/m2-incubating-repository
                    </url>
                </repository>
                <!-- adding until maven repository resolution fixed (does not work in 2.0.9 or 2.1.0.20080530 embedded) -->
                <repository>
                    <id>repository.jboss.org</id>
                    <url>http://repository.jboss.org/maven2</url>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
                </repository>
                <repository>
                    <id>ibiblio.maven</id>
                    <url>http://www.ibiblio.org/maven</url>
                </repository>
                <repository>
                    <id>EclipseLink Repo</id>
                    <url>
                        http://www.eclipse.org/downloads/download.php?r=1&amp;nf=1&amp;file=/rt/eclipselink/maven.repo
					</url>
				</repository>
				<repository>
					<id>gwt-maven</id>
					<url>
						http://gwt-maven.googlecode.com/svn/trunk/mavenrepo
					</url>
				</repository>
				<repository>
                    <id>shibboleth.internet2</id>
                    <url>http://shibboleth.internet2.edu/downloads/maven2/</url>
                </repository>
			</repositories>

			<pluginRepositories>
                <pluginRepository>
                    <id>central</id>
                    <url>http://repo1.maven.org/maven2/</url>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
                </pluginRepository>
                <pluginRepository>
                    <id>kuali.release</id>
                    <url>http://archiva.kuali.umd.edu/repository/release</url>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
                </pluginRepository>
				<pluginRepository>
					<id>ks.snapshot.plugin</id>
					<url>http://archiva.kuali.umd.edu/repository/snapshot</url>
                    <releases>
                        <enabled>false</enabled>
                    </releases>
                    <snapshots>
                        <enabled>true</enabled>
                    </snapshots>
				</pluginRepository>
				<pluginRepository>
					<id>codehaus</id>
					<url>http://repository.codehaus.org/</url>
                    <releases>
                        <enabled>true</enabled>
                    </releases>
                    <snapshots>
                        <enabled>false</enabled>
                    </snapshots>
				</pluginRepository>				
				<pluginRepository>
					<id>ks-public</id>
					<url>http://archiva.kuali.umd.edu/repository/public</url>
				</pluginRepository>
			</pluginRepositories>
		</profile>
		
		<!-- GWT Profiles - Dev environment properties -->
		<profile>
			<id>gwt-dev-windows</id>
			<properties>
				<platform>windows</platform>
			</properties>
			<activation>
				<activeByDefault>true</activeByDefault>
				<os>
					<family>Windows</family>
				</os>
			</activation>
		</profile>
		<profile>
			<id>gwt-dev-mac</id>
			<properties>
				<platform>mac</platform>
			</properties>
			<activation>
				<activeByDefault>false</activeByDefault>
				<os>
					<family>mac</family>
				</os>
			</activation>
		</profile>
		<profile>
			<id>gwt-dev-linux</id>
			<properties>
				<platform>linux</platform>
			</properties>
			<activation>
				<activeByDefault>false</activeByDefault>
				<os>
					<name>Linux</name>
				</os>
			</activation>
		</profile>		
	</profiles>

	<build>
		<extensions>
			<extension>
				<groupId>org.apache.maven.wagon</groupId>
				<artifactId>wagon-webdav</artifactId>
				<version>1.0-beta-2</version>
			</extension>
		</extensions>

		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-source-plugin</artifactId>
				<executions>
					<execution>
						<id>attach-sources</id>
						<phase>verify</phase>
						<goals>
							<goal>jar</goal>
						</goals>
					</execution>
				</executions>
			</plugin>				
		</plugins>
		
		<pluginManagement>
			<plugins>
				<plugin>
					<artifactId>maven-compiler-plugin</artifactId>
					<configuration>
						<source>1.6</source>
						<target>1.6</target>
						<!-- Don't compile sources that are in jars -->
						<compilerArgument>-implicit:none</compilerArgument>
					</configuration>
				</plugin>

                <!--  the site plugin is both build and reporting -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-site-plugin</artifactId>
                    <version>${site.plugin.version}</version>
                </plugin>
            
				<!-- CXF Java2WS Default Configuration -->
				<plugin>
					<groupId>org.apache.cxf</groupId>
					<artifactId>cxf-java2ws-plugin</artifactId>
					<version>${cxf.version}</version>
					<dependencies>
						<dependency>
							<groupId>org.apache.cxf</groupId>
							<artifactId>cxf-rt-frontend-jaxws</artifactId>
							<version>${cxf.version}</version>
						</dependency>
						<dependency>
							<groupId>org.apache.cxf</groupId>
							<artifactId>cxf-rt-frontend-simple</artifactId>
							<version>${cxf.version}</version>
						</dependency>
					</dependencies>
					<configuration>
						<genWsdl>true</genWsdl>
						<genWrapperbean>true</genWrapperbean>
						<verbose>true</verbose>
						<argline>-s ${project.build.directory}/generated/src -classdir ${project.build.outputDirectory}</argline>
					</configuration>
				</plugin>
				
				<!--  Tomcat Plugin Configuration -->
			    <plugin>
			        <groupId>org.codehaus.mojo</groupId>
	        		<artifactId>tomcat-maven-plugin</artifactId>
	        		<version>${tomcat.plugin.version}</version>
	        		<configuration>
	        			<server>${project.artifactId}</server>
	        			<warDirectory>${project.build.directory}/${project.artifactId}-webapp</warDirectory>
	        		</configuration>
			    </plugin>
			    
			    <!-- War Plugin Configuration -->
			    <plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-war-plugin</artifactId>
					<version>${war.plugin.version}</version> <!-- so one version is used regardless of build env :-) -->
					<configuration>
						<webappDirectory>${project.build.directory}/${project.artifactId}-webapp</webappDirectory>
					</configuration>
				</plugin>
	
				<!-- Codehaus GWT Maven Plugin Configuration-->
				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>gwt-maven-plugin</artifactId>
					<version>${gwt.codehaus.plugin.version}</version>
					<configuration>
						<webappDirectory>${project.build.directory}/${project.artifactId}-webapp</webappDirectory>
						<buildOutputDirectory>${project.build.directory}/${project.artifactId}-webapp/WEB-INF/classes</buildOutputDirectory>		          
						<hostedWebapp>${project.build.directory}/${project.artifactId}-webapp</hostedWebapp>
						<extraJvmArgs>-Xss32m -Xmx512m</extraJvmArgs>
					</configuration>
				</plugin>

				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-dependency-plugin</artifactId>
					<executions>
						<execution>
							<id>unpack</id>
							<phase>compile</phase>
							<goals>
								<goal>unpack</goal>
							</goals>
							<configuration>
								<artifactItems>
									<artifactItem>
										<groupId>com.google.gwt</groupId>
										<artifactId>gwt-dev</artifactId>
										<version>${gwtVersion}</version>
										<classifier>
											${platform}-libs
										</classifier>
										<type>zip</type>
										<overWrite>false</overWrite>
										<outputDirectory>
											${settings.localRepository}/com/google/gwt/gwt-dev/${gwtVersion}
										</outputDirectory>
									</artifactItem>
								</artifactItems>
							</configuration>
						</execution>
					</executions>
				</plugin>
			</plugins>				
		</pluginManagement>		
	</build>

	<dependencies>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
       		<version>4.4</version>
		</dependency>
	</dependencies>

</project>