<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ Copyright 2005-2012 The Kuali Foundation
  ~
  ~ Licensed under the Educational Community License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.opensource.org/licenses/ecl2.php
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <!-- LookupView -->
    <bean id="KS-KitchenSink-Population-LookupView" parent="KSLookupView">
        <property name="defaultSingleLookupResultAction" value="@{#Constants.PARAM_MAINTENANCE_VIEW_MODE_MAINTENANCE}"/>
        <property name="headerText" value="Population Lookup" />
        <property name="dataObjectClassName" value="org.kuali.student.r2.core.population.dto.PopulationInfo"/>
        <!-- LookupView should not use property "viewName" -->
        <property name="viewHelperServiceClass" value="org.kuali.student.enrollment.kitchensink.KitchenSinkPopulationInfoLookupableImpl" />
        <property name="maintenanceUrlMapping" value="population"/>
        <property name="page">
            <!-- custom page to suppress "Create New" link-->
            <bean parent="Uif-Page">
                <property name="cssClasses">
                    <list merge="true">
                        <value>uif-lookupPage</value>
                    </list>
                </property>
                <property name="renderFooter" value="false"/>
            </bean>
        </property>
        <property name="criteriaFields">
            <list>
                <bean parent="Uif-LookupCriteriaInputField">
                    <property name="propertyName" value="keyword"/>
                    <property name="label" value="Keyword"/>
                    <property name="fieldLabel.style" value="width:10%;white-space:nowrap;"/>
                    <property name="style" value="width:auto;"/>
                    <property name="constraintText" value="Try &quot;freshman&quot;, then &quot;sophomore&quot; to see default edit action"/>
                </bean>
            </list>
        </property>
        <property name="resultFields">
            <list>
                <bean parent="Uif-DataField" p:propertyName="name" p:label="Name"/>
                <bean parent="Uif-DataField" p:propertyName="descr.plain" p:label="Description"/>
            </list>
        </property>
        <!-- custom "resultsActionsFieldGroup" to display "edit" link only -->
        <property name="resultsActionsFieldGroup">
            <bean parent="Uif-FieldGroupBase">
                <property name="label" value="Actions"/>
                <property name="group">
                    <bean parent="Uif-LinkGroup">
                        <property name="cssClasses">
                            <list merge="true">
                                <value>uif-lookupView-resultActions</value>
                            </list>
                        </property>
                        <property name="items">
                            <list>
                                <bean parent="Uif-Link">
                                    <property name="linkText" value="edit"/>
                                    <property name="finalizeMethodToCall" value="getMaintenanceActionLink"/>
                                    <property name="finalizeMethodAdditionalArguments" value="maintenanceEdit"/>
                                </bean>
                            </list>
                        </property>
                    </bean>
                </property>
            </bean>
        </property>
    </bean>

    <bean id="KS-KitchenSink-MaintenanceView-PopulationInfo" parent="KSMaintenanceView">
        <property name="headerText" value="Edit PopulationInfo"/>
        <property name="header.style" value="height:inherit;"/>
        <property name="dataObjectClassName" value="org.kuali.student.r2.core.population.dto.PopulationInfo"/>
        <property name="viewHelperServiceClass" value="org.kuali.student.enrollment.kitchensink.KitchenSinkPopulationInfoMaintainableImpl"/>
        <property name="formClass" value="org.kuali.rice.krad.web.form.MaintenanceForm"/>
        <property name="singlePageView" value="true"/>
        <property name="items">
            <list>
                <ref bean="KS-KitchenSink-PopulationInfo-Section"/>
            </list>
        </property>
        <property name="page.footer.items">
            <list>
                <bean parent="Uif-PrimaryActionButton">
                    <property name="actionLabel" value="Update"/>
                    <property name="render" value="@{(maintenanceAction eq 'Edit') and #actionFlags[#Constants.KUALI_ACTION_CAN_ROUTE]}"/>
                    <property name="actionScript" value="alert('Maintenance document update prevented');"/>
                    <!-- if actionScript were removed, this would fire update:
                    <property name="methodToCall" value="route"/>
                    -->
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-KitchenSink-PopulationInfo-Section" parent="Uif-GridSection">
        <property name="layoutManager.numberOfColumns" value="2"/>
        <property name="layoutManager.applyDefaultCellWidths" value="false" />
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="name" p:label="Name"/>
                <bean parent="Uif-InputField" p:propertyName="descr.plain" p:label="Description">
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40" />
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="stateKey" p:label="State">
                    <property name="control">
                        <bean parent="Uif-HorizontalRadioControl">
                            <property name="options">
                                <list>
                                    <bean parent="Uif-KeyLabelPair"
                                          p:key="kuali.population.population.state.active" p:value="Active"/>
                                    <bean parent="Uif-KeyLabelPair"
                                          p:key="kuali.population.population.state.inactive" p:value="Inactive"/>
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KitchenSinkPopulationInfoMaintenanceDocument" parent="uifMaintenanceDocumentEntry">
        <property name="dataObjectClass" value="org.kuali.student.r2.core.population.dto.PopulationInfo"/>
        <property name="maintainableClass" value="org.kuali.student.enrollment.kitchensink.KitchenSinkPopulationInfoMaintainableImpl"/>
        <!--<property name="businessRulesClass" value="org.kuali.student.enrollment...Rule" />-->
        <property name="documentTypeName" value="KitchenSinkPopulationInfoMaintenanceDocument"/>
        <property name="lockingKeys">
            <list>
                <value>id</value>
            </list>
        </property>
    </bean>

</beans>