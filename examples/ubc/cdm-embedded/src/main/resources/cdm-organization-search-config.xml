<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:search="http://student.kuali.org/xsd/search-extension"
	xmlns:dict="http://student.kuali.org/xsd/dictionary-extension"
	xsi:schemaLocation="
	http://student.kuali.org/xsd/search-extension http://student.kuali.org/xsd/search-extension/search-extension.xsd
	http://student.kuali.org/xsd/dictionary-extension http://student.kuali.org/xsd/dictionary-extension/dictionary-extension.xsd
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
	 ">
	<import resource="organization-search-config.xml" />
	<search:searchCriteriaTypeInfo id="org.criteria.generic" parent="org.criteria.generic-parent">
		<search:name>List of generic criteria</search:name>
		<search:desc>Generic criteria</search:desc>
		<search:queryParams>
			<ref bean="org.queryParam.orgOptionalLongName"/>
			<ref bean="org.queryParam.orgOptionalLocation"/>
			<ref bean="org.queryParam.orgOptionalId"/>
			<ref bean="org.queryParam.orgOptionalShortName"/>
			<ref bean="org.queryParam.startswith.orgOptionalShortName"/>
			<ref bean="org.queryParam.orgOptionalType"/>
			<ref bean="org.queryParam.orgOptionalLongDesc"/>
		</search:queryParams>
	</search:searchCriteriaTypeInfo>
	<search:queryParam id="org.queryParam.orgOptionalLongDesc" parent="org.queryParam.orgOptionalLongDesc-parent"/>
	<search:queryParam id="org.queryParam.orgOptionalLongDesc-parent" 
		optional="true" abstract="true">
		<ref bean="field.orgInfo.longDesc.fd" />
	</search:queryParam>

	<bean id="queryMap" class="org.springframework.beans.factory.config.MapFactoryBean">
		<property name="sourceMap">
			<map>
				<entry key="org.search.orgHierarchyIds">
					<value>SELECT oh.id, oh.name FROM OrgHierarchy oh</value>
				</entry>
				<entry key="org.search.orgTypes">
					<value>SELECT org.id, org.name FROM OrgType org</value>
				</entry>
				<entry key="org.search.orgPeronRelationTypes">
					<value>SELECT org.id, org.name FROM OrgPersonRelationType org</value>
				</entry>
				<entry key="org.search.findOrgPositionRestrictions">
					<value>SELECT opr.personRelationType.id , opr.title FROM OrgPositionRestriction opr WHERE opr.org.id = :org_queryParam_orgId</value>
				</entry>
				<entry key="org.search.hierarchiesOrgIsIn">
					<value>SELECT hierarchy.id FROM Org org, in(org.type.orgHierarchies) hierarchy WHERE org.id = :org_queryParam_orgId</value>
				</entry>
				<entry key="org.search.orgQuickViewByOrgType">
					<value>SELECT org.id, org.shortName FROM Org org WHERE
						org.type.id = :org_queryParam_orgType</value>
				</entry>
				<entry key="org.search.orgQuickViewByHierarchyShortName">
					<value>SELECT org.id, org.shortName FROM Org org, in(org.type.orgHierarchies) hierarcy WHERE org.shortName like :org_queryParam_orgShortName and hierarcy.id = :org_queryParam_orgHierarchyId</value>
				</entry>
				<entry key="org.search.orgQuickLongViewByFirstLetter">
					<value>SELECT org.id, org.longName, org.type.id, hierarchy.name FROM Org org, in(org.type.orgHierarchies) hierarchy WHERE org.shortName like :org_queryParam_orgShortName or org.longName like :org_queryParam_orgShortName</value>
				</entry>
				<entry key="org.search.orgByShortName">
					<value>SELECT org.id, org.shortName FROM Org org WHERE org.shortName like :org_queryParam_orgShortName or org.id = :org_queryParam_orgId</value>
				</entry>
				<entry key="org.search.orgByShortNameAndType">
					<value>SELECT org.id, org.shortName FROM Org org WHERE org.type.id = :org_queryParam_orgType AND (org.shortName like :org_queryParam_orgShortName or org.id = :org_queryParam_orgId)</value>
				</entry>
				<entry key="org.search.orgFullViewById">
					<value>SELECT org.id, org.shortName, org.longName, org.type.id, hierarchy.name FROM Org org, in(org.type.orgHierarchies) hierarchy WHERE org.id = :org_queryParam_orgId</value>
				</entry>
				<entry key="org.search.orgQuickViewByRelationTypeOrgTypeRelatedOrgType">
					<value>SELECT rel.relatedOrg.id, rel.relatedOrg.shortName FROM OrgOrgRelation rel WHERE rel.type.id = :org_queryParam_relationType AND rel.org.type.id = :org_queryParam_orgType AND rel.relatedOrg.type.id = :org_queryParam_relatedOrgType</value>
				</entry>
				<entry key="org.search.orgQuickViewByRelationTypeRelatedOrgTypeOrgId">
					<value>SELECT rel.relatedOrg.id, rel.relatedOrg.shortName FROM OrgOrgRelation rel WHERE rel.type.id = :org_queryParam_relationType AND rel.org.id = :org_queryParam_orgId AND rel.relatedOrg.type.id = :org_queryParam_relatedOrgType</value>
				</entry>
				<entry key="org.search.orgQuickViewByRelationTypeOrgTypeRelatedOrgTypeAltr">
					<value>SELECT rel.org.id, rel.org.shortName FROM OrgOrgRelation rel WHERE rel.type.id = :org_queryParam_relationType AND (rel.org.type.id in (:org_queryParam_orgTypeList))  AND rel.relatedOrg.type.id = :org_queryParam_relatedOrgType</value>
				</entry>
				<entry key="org.search.test.orgs">
					<value>SELECT org.id, org.shortName, org.longName, org.type.id, hierarchy.name FROM Org org, in(org.type.orgHierarchies) hierarchy</value>
				</entry>
				<entry key="org.search.generic">
					<value>SELECT org.id, org.shortName, org.longName, org.type.id FROM Org org</value>
				</entry>				
				<entry key="org.queryParam.orgGenericType">
					<value>org.type.id = :org_queryParam_orgGenericType</value>
				</entry>
				<entry key="org.queryParam.orgGenericShortName">
					<value>org.shortName like :org_queryParam_orgGenericShortName</value>
				</entry>
				<entry key="org.queryParam.orgOptionalId">
					<value>org.id = :org_queryParam_orgOptionalId</value>
				</entry>					
				<entry key="org.queryParam.orgPositionId">
					<value>org.org.id = :org_queryParam_orgPositionId</value>
				</entry>				
				<entry key="org.queryParam.orgOptionalType">
					<value>org.type.id IN (:org_queryParam_orgOptionalType)</value>
				</entry>	
				<entry key="org.queryParam.orgOptionalShortName">
					<value>org.shortName</value>
				</entry>
				<entry key="org.queryParam.startswith.orgOptionalShortName">
				    <value>org.shortName like :org_queryParam_startswith_orgOptionalShortName || '%' OR org.shortName like '% ' || :org_queryParam_startswith_orgOptionalShortName || '%'</value>
				</entry>	
				<entry key="org.queryParam.orgOptionalLongName">
					<value>org.longName</value>
				</entry>
				<entry key="org.queryParam.orgOptionalLocation">
					<value>org.longName</value>  <!--  we don't have yet location defined in database -->
				</entry>
				<entry key="org.queryParam.orgOptionalLongDesc">
				    <value>org.longDesc</value>
				</entry>
			</map>
		</property>
	</bean>	
</beans>
