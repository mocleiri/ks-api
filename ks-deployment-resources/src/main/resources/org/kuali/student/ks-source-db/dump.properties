# This will hopefully be shortened to "org.kuali.student" soon
ks.db.groupId=org.kuali.student.db

# General working directory
impex.dump.workingDir=${project.build.directory}/impex

# The schema.xml files + any MPX files get copied to a project specific directory under here before getting sync'd to the directory under SCM
impex.dump.stagingDir=${impex.dump.workingDir}/staging

# Controls where the initial MPX data files get written to
impex.dump.dataDir=${impex.dump.workingDir}/data

# These 3 projects get updated
impex.export.projects=${ks.db.groupId}:ks-impex-rice-db,${ks.db.groupId}:ks-impex-app-db,${ks.db.groupId}:ks-impex-bundled-db
impex.export.schema.projects=${impex.export.projects}
impex.export.data.projects=${impex.export.projects}

# Controls where the schema.xml files get written to
impex.export.schema.stagingDir=${impex.dump.stagingDir}

# Regex for tables/views/sequences to include when creating schema.xml
impex.export.schema.ks-impex-rice-db.includes=KR.*
impex.export.schema.ks-impex-app-db.includes=KS.*
impex.export.schema.ks-impex-bundled-db.includes=${impex.export.ks-impex-rice-db.includes},${impex.export.ks-impex-app-db.includes}

# Ant style notation for filename patterns to include when copying data files
impex.export.data.ks-impex-rice-db.includes=KR*.mpx
impex.export.data.ks-impex-app-db.includes=KS*.mpx
impex.export.data.ks-impex-bundled-db.excludes=*

# The schema extraction process needs to include all tables needed by any of the schemas
impex.extract.includes=${impex.export.ks-impex-bundled-db.includes}

# The data export process needs to include all tables needed by any of the schemas
impex.export.data.include=${impex.export.ks-impex-bundled-db.includes}

# Record table statistics to help optimize the dump process
impex.export.data.statistics.location=${project.basedir}/../../ks-deployment-resources/src/main/resources/org/kuali/student/ks-source-db/tablestats.properties

# The directory where all data files get written 
impex.export.data.workingDir=${impex.dump.dataDir}



impex.export.schema.modular.prefixes=ks.export.app.,ks.export.rice.,ks.export.bundled.
impex.sync.prefixes=ks.export.app.,ks.export.rice.,ks.export.bundled.,ks.export.sync.global.

impex.schema.suffix

ks.export.app.artifactId=ks-impex-app-db
ks.export.app.impex.extraction.includes=bar
ks.export.app.schema.foreignKeys.output=${impex.export.data.workingDir}/${ks.export.app.artifactId}-constraints-schema.xml
ks.export.app.schema.output=${impex.export.data.workingDir}/${ks.export.app.artifactId}-schema.xml
ks.export.app.sync.commitPath=${project.basedir}/${ks.export.app.artifactId}/src/main/resources/${project.groupId.base.path}/${ks.export.app.artifactId}/
ks.export.app.sync.destDir=${project.basedir}/${ks.export.app.artifactId}/src/main/resources/${project.groupId.base.path}/${ks.export.app.artifactId}/
ks.export.app.sync.filter=${ks.export.app.artifactId}*-schema.xml,KS*.mpx
ks.export.app.sync.sourceDir=${impex.export.data.workingDir}

ks.export.bundled.artifactId=ks-impex-bundled-db
ks.export.bundled.impex.extraction.includes=foo,bar
ks.export.bundled.schema.foreignKeys.output=${impex.export.data.workingDir}/${ks.export.bundled.artifactId}-constraints-schema.xml
ks.export.bundled.schema.output=${impex.export.data.workingDir}/${ks.export.bundled.artifactId}-schema.xml
ks.export.bundled.sync.commitPath=${project.basedir}/${ks.export.bundled.artifactId}/src/main/resources/${project.groupId.base.path}/${ks.export.bundled.artifactId}/
ks.export.bundled.sync.destDir=${project.basedir}/${ks.export.bundled.artifactId}/src/main/resources/${project.groupId.base.path}/${ks.export.bundled.artifactId}/
ks.export.bundled.sync.filter=${ks.export.bundled.artifactId}*-schema.xml
ks.export.bundled.sync.sourceDir=${impex.export.data.workingDir}

ks.export.rice.artifactId=ks-impex-rice-db
ks.export.rice.impex.extraction.includes=foo
ks.export.rice.schema.foreignKeys.output=${impex.export.data.workingDir}/${ks.export.rice.artifactId}-constraints-schema.xml
ks.export.rice.schema.output=${impex.export.data.workingDir}/${ks.export.rice.artifactId}-schema.xml
ks.export.rice.sync.commitPath=${project.basedir}/${ks.export.rice.artifactId}/src/main/resources/${project.groupId.base.path}/${ks.export.rice.artifactId}/
ks.export.rice.sync.destDir=${project.basedir}/${ks.export.rice.artifactId}/src/main/resources/${project.groupId.base.path}/${ks.export.rice.artifactId}/
ks.export.rice.sync.filter=${ks.export.rice.artifactId}*-schema.xml,KR*.mpx
ks.export.rice.sync.sourceDir=${impex.export.data.workingDir}

ks.export.sync.global.sync.commitPath=${impex.export.data.statistics.location}